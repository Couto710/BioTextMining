Fuzzy Logic Techniques for Blotch Feature Evaluation in Dermoscopy Images Blotches, also called structureless areas, are critical in differentiating malignant melanoma from benign lesions in dermoscopy skin lesion images. In this paper, fuzzy logic techniques are investigated for the automatic detection of blotch features for malignant melanoma discrimination. Four fuzzy sets representative of blotch size and relative and absolute blotch colors are used to extract blotchy areas from a set of dermoscopy skin lesion images. Five previously reported blotch features are computed from the extracted blotches as well as four new features. Using a neural network classifier, malignant melanoma discrimination results are optimized over the range of possible alpha-cuts and compared with results using crisp blotch features. Features computed from blotches using the fuzzy logic techniques based on three plane relative color and blotch size yield the highest diagnostic accuracy of 81.2%.  1. Introduction Dermoscopy is a noninvasive imaging technique that uses optical magnification and fluid immersion or cross-polarized lighting to allow better clinical assessment of skin lesions [ 1 ]. Dermoscopy has been shown to improve diagnostic accuracy of pigmented lesions in those with formal training [ 2 ]. Blotches are a dermoscopic feature defined as dark structureless areas within pigmented lesions [ 1 ]. Blotches that are located asymmetrically within a lesion are indicative of malignant melanoma. Image processing techniques have been developed to find blotches automatically [ 3 , 4 ]. Fig. 1 shows a dermoscopy image of a melanoma with a blotch found automatically. Blotch extraction algorithms reported by Stoecker et. al. [ 3 ] can be divided into two categories. The first employed absolute color thresholding for segmenting blotch-like regions, wherein threshold values were placed on the red, green, and blue (RGB) color planes in the digital images of skin lesions. Because structureless areas such as dots, blotches and globules have similar color characteristics, size constraints were applied to the thresholded regions to find blotch-like areas. One of the difficulties in performing melanoma discrimination based on absolute color thresholds was that blotch colors were inconsistent due to variations in lighting and slide processing techniques. In order to compensate for this problem, a second relative color approach was developed for segmenting blotch-like areas [ 3 ]. For this technique, the average red, green and blue (RGB) color of the background skin surrounding the lesion was subtracted from the RGB values of each pixel inside the lesion boundary. This technique helped equalize color changes due to different skin types as well as due to lighting and image processing techniques [ 5 ]. In the previous blotch study, it was determined that the second technique, blotch determination by the relative color technique, provided better results [ 3 ]. In this research, variations of new and existing blotch features are investigated for melanoma discrimination using a feed-forward artificial neural network classifier. The following experiments are performed. First, fuzzy logic techniques are examined for extracting blotches based on blotch size [ 6 ]. The ‘crisp’ blotch detection technique of [ 3 ] with a fixed minimum blotch size is ‘fuzzified’ so that a dark area extracted from a dermoscopy image qualifies as a blotch only if its size exhibits a certain degree of association with a fuzzy set representative of blotch size. Second, a relative color histogram representative of colors associated with melanoma lesions is used to generate a fuzzy set which provides the basis for differentiating between melanoma and benign skin lesions [ 6 ]. Third, relative color histogram techniques using the individual color planes are investigated for segmentation of blotch-like regions. Fuzzy sets computed from relative color histograms, constructed separately for the red, green and blue planes, are used for melanoma discrimination. Fourth, blotch asymmetry measures are explored where the skin lesion border mask and the associated blotch mask are both moment normalized and the lesion is split into four quadrants along its axis of symmetry and the perpendicular line through its center point [ 7 ]. Blotch asymmetry is computed in each of the four lesion quadrants. The final experiment examines the role of blotch eccentricity in melanoma discrimination. The goal of this paper is to compare the malignant melanoma discrimination results based on features extracted from blotch-like regions for the different approaches discussed above from dermoscopy images of skin lesions. The remainder of the paper is presented as follows: 1) methodology including an overview of blotches and the different blotch feature algorithms 2) experiments performed, 3) experimental results, and 4) discussion and conclusions.  2. Methodology 2.1. Description of Experimental Data Set The data set used for blotch detection, feature investigation, and melanoma discrimination consisted of 134 melanoma images and 290 benign images (dysplastic nevi and nevocellular nevi) with biopsy confirmation of diagnoses were obtained from three sources, including the EDRA Interactive Atlas of Dermoscopy [ 8 ], Skin and Cancer Associates, Plantation, Florida, and Dermatology Associates of Tallahassee, Florida. Skin lesion borders, referred to as border masks, were manually segmented for the images in the data set under the supervision of an experienced dermatologist. 2.2 Fuzzy Logic Techniques for Blotch Detection The individual blotch size is specified to be in excess of 800 pixels for dermoscopy images of resolution 1024 × 768, the size of images examined in this research [blotch paper]. Fig. 1 shows the boundary of a blotch in a malignant melanoma. The size of blotches, extracted using static or ‘crisp’ thresholds on a set of training images, is used to construct a fuzzy set, based on fuzzy logic methods in [ 6 ]. This set characterizes the degree of association of a dark region, automatically extracted from a lesion image, to the blotch class based on its area. Similarly, the color information from the crisp blotches is used to construct fuzzy sets characterizing the membership of the color components of an extracted dark region to the blotch class. 2.3 Construction of Fuzzy Sets Representative of Blotch Size Blotches are first extracted using absolute and relative color thresholds to construct blotch masks [ 3 ]. The DullRazor program is used to detect and remove hairs automatically from the blotch masks [ 9 ]. Blotches outside the lesion boundary are excluded from further processing. The estimated minimum blotch size of 800 pixels is used as a reference size to define blotches [blotch paper]. In order to explore the importance and restrictiveness of blotch size for skin lesion discrimination, we examine two fuzzy set representations to characterize blotch-like objects. A fuzzy set A is specified to provide high membership to objects satisfying the 800 pixel size constraint and to give some degree of membership to objects which are blotch-like in absolute or relative color but are smaller in size. From a dermatologic perspective, providing some degree of membership to objects smaller than the 800 pixel size constraint allows for inclusion of objects which may vary in color or be similar to other skin lesion structures such as dots or globules [ 1 ]. The membership function for A , ? A (x) is given as: (1) ? A ( x ) = { x / 800 for x < 800 1 for x ? 800 where x is the size in pixels of a blotch inside the skin lesion. A second fuzzy set B is also defined based on the blotch size. The fuzzy set B is defined to be more restrictive on object size to provide higher membership to objects with area above the 800 pixel constraint and to give no membership to smaller objects less than 400 pixels in area. The membership function ? B (x) of the fuzzy set B is given as: (2) ? B ( x ) = { 1 for x ? 1200 x ? 400 800 for 400 ? x < 1200 0 for x < 400 where x is the size of a blotchy area inside the skin lesion. It is to be noted that the membership function ? B assigns higher membership values to larger size blotches. 2.4. Construction of Fuzzy Sets Representative of Blotch Colors Blotches are extracted as before and the blotch pixels are used to populate a three-dimensional relative color histogram. A fuzzy logic based approach outlined by Stanley et. al. is used to determine the fuzzy set C and an associated membership function ? C from the relative color histogram [ 6 ]. The three dimensional cumulative relative color histogram constructed for this study has 643 bins. The relative color values at each pixel position (i, j), inside of the blotchy areas extracted from melanoma lesions belonging to a training set of images, are computed as follows: (3) R rel ( i , j ) = ceil ( R avg ? R obs ( i , j ) + 255 4 ) (4) G rel ( i , j ) = ceil ( G avg ? G obs ( i , j ) + 255 4 ) (5) B rel ( i , j ) = ceil ( B avg ? B obs ( i , j ) + 255 4 ) where, Ravg, Gavg, and Bavg represent the average background skin color in the red, green, and blue color planes, respectively. Robs(i,j), Gobs(i,j), and Bobs(i,j) are the observed RGB pixel value at location (i,j) inside the lesion border. Subtracting these two values yields the relative color component to which 255 is added to prevent negative values from occurring. Division by four is implemented to downsample the full histogram and avoid sparsely populated color bins in the histogram.. For each pixel position (i,j) inside of blotchy areas of melanoma images in the training set, the values of Rrel(i,j), Grel(i,j), and Brel(i,j) are calculated and then the bin count is incremented by one at the location <Rrel(i,j), Grel(i,j),Brel(i,j) > in the three dimensional histogram. A secondary histogram is derived from the three-dimensional relative color histogram. The horizontal axis of the secondary histogram represents number of bin hits (x) while the vertical axis represents the frequency count, i.e. the number of bins in the three dimensional histogram with x hits per bin. This histogram has very large bin counts for low values of x giving rise to an exponentially downward sloping curve. The membership function ? C (x) denoting the fuzzy set C is defined as: (6) ? C ( x ) = { x / F for 0 ? x < F 1 for x ? F where, F is the value of bin frequency count (x) such that 5% of the total bins in the secondary histogram have frequency F or higher. This membership function is trapezoidal. A fuzzy set H is constructed similarly to fuzzy set C , but using separate relative color histograms for the red, green and blue color planes. The relative color values at each pixel inside of blotchy areas extracted from a training set of melanoma images are computed as: (7) R rel ( i , j ) = ceil ( R avg ? R obs ( i , j ) + 255 2 ) (8) G rel ( i , j ) = ceil ( G avg ? G obs ( i , j ) + 255 2 ) (9) B rel ( i , j ) = ceil ( B avg ? B obs ( i , j ) + 255 2 ) As before, bin counts are kept to construct the cumulative relative color histogram and a secondary histogram is computed for each color plane, from the cumulative relative color histograms. The membership function ? H RED (x) for the fuzzy set H RED for the red relative color plane is defined as: (10) ? H RED ( x ) = { log 2 x / log 2 F for 0 < x < F 1 for x ? F where x represents the secondary histogram bin frequency count and F is the value of x such that 5% of the total bins in secondary histogram have frequency F or higher. Similar membership functions are also derived for the green and blue relative color planes. 2.5. Description of Blotch Features The following indices were used to characterize the blotchy regions extracted from dermoscopy images of skin lesions, described in [ 3 ]. The first index is the eccentricity E of the largest blotch, given by the Euclidean distance between the centroid of the largest blotch and the centroid of the lesion, as shown in Fig. 1 , scaled by the square root of the lesion area. The second and third blotch indices R and S are given by the ratio of the areas of all blotches and the largest blotch, respectively, to the area of the lesion. The fourth blotch index I is a measure of the border irregularity of the largest blotch. The fifth blotch index D measures the dispersion of blotches within the lesion, A new set of four asymmetry features are computed using the quadrant asymmetry method of [ 7 ]. The lesion border mask is divided into four quadrants and a set of asymmetry features is computed as (11) asym i = ( Q i L i ) ( OQ i OL i ) where i ranges from 1 to 4, representing the asymmetry features for the respective quadrant. Qi and Li are the areas of the blotch and lesion respectively in a particular quadrant. OQi and OLi are the distances from the center of the lesion to the centroids of the blotch and lesion area within that particular quadrant respectively. Fig. 2 helps visualize the four asymmetry features; the centroid of the lesion in each quadrant is marked with a small square while the centroid of the blotch mask in that quadrant is marked with a larger square. Additionally, an eccentricity measure for each blotch inside a lesion is also defined. It is calculated as the ratio of the distance between the foci and the major axis length of the best fit ellipse for a blotch, as shown in equation 12 . This measure quantifies the deviation of the blotch shape from that of a perfect circle and its value ranges from zero (circle) to one (line segment). (12) Ecc = P L P is the distance between the two principal foci of the best fit ellipse (F1 and F2) and L is the length of the major axis, as shown in Fig. 3 .  2.1. Description of Experimental Data Set The data set used for blotch detection, feature investigation, and melanoma discrimination consisted of 134 melanoma images and 290 benign images (dysplastic nevi and nevocellular nevi) with biopsy confirmation of diagnoses were obtained from three sources, including the EDRA Interactive Atlas of Dermoscopy [ 8 ], Skin and Cancer Associates, Plantation, Florida, and Dermatology Associates of Tallahassee, Florida. Skin lesion borders, referred to as border masks, were manually segmented for the images in the data set under the supervision of an experienced dermatologist.  2.2 Fuzzy Logic Techniques for Blotch Detection The individual blotch size is specified to be in excess of 800 pixels for dermoscopy images of resolution 1024 × 768, the size of images examined in this research [blotch paper]. Fig. 1 shows the boundary of a blotch in a malignant melanoma. The size of blotches, extracted using static or ‘crisp’ thresholds on a set of training images, is used to construct a fuzzy set, based on fuzzy logic methods in [ 6 ]. This set characterizes the degree of association of a dark region, automatically extracted from a lesion image, to the blotch class based on its area. Similarly, the color information from the crisp blotches is used to construct fuzzy sets characterizing the membership of the color components of an extracted dark region to the blotch class.  2.3 Construction of Fuzzy Sets Representative of Blotch Size Blotches are first extracted using absolute and relative color thresholds to construct blotch masks [ 3 ]. The DullRazor program is used to detect and remove hairs automatically from the blotch masks [ 9 ]. Blotches outside the lesion boundary are excluded from further processing. The estimated minimum blotch size of 800 pixels is used as a reference size to define blotches [blotch paper]. In order to explore the importance and restrictiveness of blotch size for skin lesion discrimination, we examine two fuzzy set representations to characterize blotch-like objects. A fuzzy set A is specified to provide high membership to objects satisfying the 800 pixel size constraint and to give some degree of membership to objects which are blotch-like in absolute or relative color but are smaller in size. From a dermatologic perspective, providing some degree of membership to objects smaller than the 800 pixel size constraint allows for inclusion of objects which may vary in color or be similar to other skin lesion structures such as dots or globules [ 1 ]. The membership function for A , ? A (x) is given as: (1) ? A ( x ) = { x / 800 for x < 800 1 for x ? 800 where x is the size in pixels of a blotch inside the skin lesion. A second fuzzy set B is also defined based on the blotch size. The fuzzy set B is defined to be more restrictive on object size to provide higher membership to objects with area above the 800 pixel constraint and to give no membership to smaller objects less than 400 pixels in area. The membership function ? B (x) of the fuzzy set B is given as: (2) ? B ( x ) = { 1 for x ? 1200 x ? 400 800 for 400 ? x < 1200 0 for x < 400 where x is the size of a blotchy area inside the skin lesion. It is to be noted that the membership function ? B assigns higher membership values to larger size blotches.  2.4. Construction of Fuzzy Sets Representative of Blotch Colors Blotches are extracted as before and the blotch pixels are used to populate a three-dimensional relative color histogram. A fuzzy logic based approach outlined by Stanley et. al. is used to determine the fuzzy set C and an associated membership function ? C from the relative color histogram [ 6 ]. The three dimensional cumulative relative color histogram constructed for this study has 643 bins. The relative color values at each pixel position (i, j), inside of the blotchy areas extracted from melanoma lesions belonging to a training set of images, are computed as follows: (3) R rel ( i , j ) = ceil ( R avg ? R obs ( i , j ) + 255 4 ) (4) G rel ( i , j ) = ceil ( G avg ? G obs ( i , j ) + 255 4 ) (5) B rel ( i , j ) = ceil ( B avg ? B obs ( i , j ) + 255 4 ) where, Ravg, Gavg, and Bavg represent the average background skin color in the red, green, and blue color planes, respectively. Robs(i,j), Gobs(i,j), and Bobs(i,j) are the observed RGB pixel value at location (i,j) inside the lesion border. Subtracting these two values yields the relative color component to which 255 is added to prevent negative values from occurring. Division by four is implemented to downsample the full histogram and avoid sparsely populated color bins in the histogram.. For each pixel position (i,j) inside of blotchy areas of melanoma images in the training set, the values of Rrel(i,j), Grel(i,j), and Brel(i,j) are calculated and then the bin count is incremented by one at the location <Rrel(i,j), Grel(i,j),Brel(i,j) > in the three dimensional histogram. A secondary histogram is derived from the three-dimensional relative color histogram. The horizontal axis of the secondary histogram represents number of bin hits (x) while the vertical axis represents the frequency count, i.e. the number of bins in the three dimensional histogram with x hits per bin. This histogram has very large bin counts for low values of x giving rise to an exponentially downward sloping curve. The membership function ? C (x) denoting the fuzzy set C is defined as: (6) ? C ( x ) = { x / F for 0 ? x < F 1 for x ? F where, F is the value of bin frequency count (x) such that 5% of the total bins in the secondary histogram have frequency F or higher. This membership function is trapezoidal. A fuzzy set H is constructed similarly to fuzzy set C , but using separate relative color histograms for the red, green and blue color planes. The relative color values at each pixel inside of blotchy areas extracted from a training set of melanoma images are computed as: (7) R rel ( i , j ) = ceil ( R avg ? R obs ( i , j ) + 255 2 ) (8) G rel ( i , j ) = ceil ( G avg ? G obs ( i , j ) + 255 2 ) (9) B rel ( i , j ) = ceil ( B avg ? B obs ( i , j ) + 255 2 ) As before, bin counts are kept to construct the cumulative relative color histogram and a secondary histogram is computed for each color plane, from the cumulative relative color histograms. The membership function ? H RED (x) for the fuzzy set H RED for the red relative color plane is defined as: (10) ? H RED ( x ) = { log 2 x / log 2 F for 0 < x < F 1 for x ? F where x represents the secondary histogram bin frequency count and F is the value of x such that 5% of the total bins in secondary histogram have frequency F or higher. Similar membership functions are also derived for the green and blue relative color planes.  2.5. Description of Blotch Features The following indices were used to characterize the blotchy regions extracted from dermoscopy images of skin lesions, described in [ 3 ]. The first index is the eccentricity E of the largest blotch, given by the Euclidean distance between the centroid of the largest blotch and the centroid of the lesion, as shown in Fig. 1 , scaled by the square root of the lesion area. The second and third blotch indices R and S are given by the ratio of the areas of all blotches and the largest blotch, respectively, to the area of the lesion. The fourth blotch index I is a measure of the border irregularity of the largest blotch. The fifth blotch index D measures the dispersion of blotches within the lesion, A new set of four asymmetry features are computed using the quadrant asymmetry method of [ 7 ]. The lesion border mask is divided into four quadrants and a set of asymmetry features is computed as (11) asym i = ( Q i L i ) ( OQ i OL i ) where i ranges from 1 to 4, representing the asymmetry features for the respective quadrant. Qi and Li are the areas of the blotch and lesion respectively in a particular quadrant. OQi and OLi are the distances from the center of the lesion to the centroids of the blotch and lesion area within that particular quadrant respectively. Fig. 2 helps visualize the four asymmetry features; the centroid of the lesion in each quadrant is marked with a small square while the centroid of the blotch mask in that quadrant is marked with a larger square. Additionally, an eccentricity measure for each blotch inside a lesion is also defined. It is calculated as the ratio of the distance between the foci and the major axis length of the best fit ellipse for a blotch, as shown in equation 12 . This measure quantifies the deviation of the blotch shape from that of a perfect circle and its value ranges from zero (circle) to one (line segment). (12) Ecc = P L P is the distance between the two principal foci of the best fit ellipse (F1 and F2) and L is the length of the major axis, as shown in Fig. 3 .  3. Experiments Performed 3.1 Fuzzy Set-Based Blotch Feature Extraction Two fuzzy set-based approaches were investigated for extracting blotches, including using: 1) fuzzy sets A and B representative of blotch size and 2) fuzzy sets C and H representative of relative RGB and individual color planes. In order to evaluate the impact of blotch extraction on blotch features and melanoma discrimination, alpha-cut analysis was performed. The alpha-cut on a designated fuzzy set is the set of members (pixels or objects) whose membership value for that fuzzy set is equal to or greater than a specified membership cutoff value. The first approach extracts blotches based on using a training set of images to determine the fuzzy sets A and B and associated membership functions ? A and ? B , respectively, with both absolute and relative color techniques [ 6 ]. For a given membership function cutoff value, denoted as alpha value, if the membership value of any blotchy area meets or exceeds the alpha value, then that blotch is used for fuzzy feature calculation. Otherwise, the blotch is omitted from further consideration. The second approach examines both the relative RGB color and the individual color plane experiments using fuzzy sets C and H. A training set of images is used to find the fuzzy sets C and D and associated membership functions ? C and ? H , respectively. With the designated fuzzy set ( C or H ), if the membership value of a pixel meets or exceeds a specified alpha value, then the pixel is kept as a part of the blotch; otherwise it is omitted. Any blotchy areas under 800 pixels are rejected. For the experiments performed, alpha-cuts are set up from 0 to 1 in increments of 0.1. Let Z =[ E, R, S, I, D, asym 1, asym 2, asym 3, asym 4] denote the feature vector computed from the resulting blotch mask for each alpha-cut for fuzzy sets A, B, C, and H over the entire set of images. Note that E, R, S, I, and D denote the previously developed blotch features used for melanoma discrimination, and asym1, asym2, asym3, and asym4 represent the newly proposed features. As an additional experiment, blotch masks are generated for the different alpha-cuts separately based on the fuzzy set B (based on blotch size) and fuzzy set H (based on relative color), and the feature vectors computed for each case are combined to create an 18 feature vector. 3.2. Blotch Extraction using the Eccentricity Measure This experiment is performed on the blotches that are extracted using relative color thresholding techniques. The eccentricity measure in equation 12 gives a perfect circle a value of 0 while a straight line segment has a value of 1. Thresholds on blotch eccentricity are set up with values ranging from 0 to 0.8 in increments of 0.2. If the eccentricity of an individual blotch area meets or exceeds the specified threshold, then that blotch is used for feature calculations; otherwise it is omitted from further consideration. Based on the blotches extracted from each image for each eccentricity threshold, the feature vector Z is computed. 3.3. Blotch Feature Evaluation The blotch features computed for each experiment are applied to melanoma discrimination using a standard back-propagation neural network classifier. The data set is divided into 10 randomly generated training/test sets, with disjoint training and test sets. For each training/test set pair, the training set consisted of 90% of the benign and melanoma lesions and the test set contained the remaining 10% of the lesions from both the classes. For experiments that use nine blotch and asymmetry features, a neural network architecture of 9×6×4×1 (9 inputs, 6 nodes in the first hidden layer, 4 nodes in the second hidden layer, and 1 output) is used. For the experiments that use the five blotch features, a 5×4×2×1 neural network architecture was used. For the experiments employing the four asymmetry features, a 4×4×2×1 neural network is used. For the experiment that used eighteen features, an 18×12×10×1 neural network was used. For all experiments performed, neural network training is performed up to 10 epochs (convergence based on RMSE error < 0.15). Also, sigmoid transfer functions are used at the input and hidden layers and a linear transfer function at the output are implemented. The neural network output results are evaluated using the area under the Receiving Operating Characteristic (ROC) curves for the different experimental cases. The ROC curves are generated by incrementing the neural network output threshold over the neural network output range obtained from the test set and computing the true positive and false negative rates classification rates at each threshold. For comparison of the results from the different experiments, the area under the ROC curve is used.  3.1 Fuzzy Set-Based Blotch Feature Extraction Two fuzzy set-based approaches were investigated for extracting blotches, including using: 1) fuzzy sets A and B representative of blotch size and 2) fuzzy sets C and H representative of relative RGB and individual color planes. In order to evaluate the impact of blotch extraction on blotch features and melanoma discrimination, alpha-cut analysis was performed. The alpha-cut on a designated fuzzy set is the set of members (pixels or objects) whose membership value for that fuzzy set is equal to or greater than a specified membership cutoff value. The first approach extracts blotches based on using a training set of images to determine the fuzzy sets A and B and associated membership functions ? A and ? B , respectively, with both absolute and relative color techniques [ 6 ]. For a given membership function cutoff value, denoted as alpha value, if the membership value of any blotchy area meets or exceeds the alpha value, then that blotch is used for fuzzy feature calculation. Otherwise, the blotch is omitted from further consideration. The second approach examines both the relative RGB color and the individual color plane experiments using fuzzy sets C and H. A training set of images is used to find the fuzzy sets C and D and associated membership functions ? C and ? H , respectively. With the designated fuzzy set ( C or H ), if the membership value of a pixel meets or exceeds a specified alpha value, then the pixel is kept as a part of the blotch; otherwise it is omitted. Any blotchy areas under 800 pixels are rejected. For the experiments performed, alpha-cuts are set up from 0 to 1 in increments of 0.1. Let Z =[ E, R, S, I, D, asym 1, asym 2, asym 3, asym 4] denote the feature vector computed from the resulting blotch mask for each alpha-cut for fuzzy sets A, B, C, and H over the entire set of images. Note that E, R, S, I, and D denote the previously developed blotch features used for melanoma discrimination, and asym1, asym2, asym3, and asym4 represent the newly proposed features. As an additional experiment, blotch masks are generated for the different alpha-cuts separately based on the fuzzy set B (based on blotch size) and fuzzy set H (based on relative color), and the feature vectors computed for each case are combined to create an 18 feature vector.  3.2. Blotch Extraction using the Eccentricity Measure This experiment is performed on the blotches that are extracted using relative color thresholding techniques. The eccentricity measure in equation 12 gives a perfect circle a value of 0 while a straight line segment has a value of 1. Thresholds on blotch eccentricity are set up with values ranging from 0 to 0.8 in increments of 0.2. If the eccentricity of an individual blotch area meets or exceeds the specified threshold, then that blotch is used for feature calculations; otherwise it is omitted from further consideration. Based on the blotches extracted from each image for each eccentricity threshold, the feature vector Z is computed.  3.3. Blotch Feature Evaluation The blotch features computed for each experiment are applied to melanoma discrimination using a standard back-propagation neural network classifier. The data set is divided into 10 randomly generated training/test sets, with disjoint training and test sets. For each training/test set pair, the training set consisted of 90% of the benign and melanoma lesions and the test set contained the remaining 10% of the lesions from both the classes. For experiments that use nine blotch and asymmetry features, a neural network architecture of 9×6×4×1 (9 inputs, 6 nodes in the first hidden layer, 4 nodes in the second hidden layer, and 1 output) is used. For the experiments that use the five blotch features, a 5×4×2×1 neural network architecture was used. For the experiments employing the four asymmetry features, a 4×4×2×1 neural network is used. For the experiment that used eighteen features, an 18×12×10×1 neural network was used. For all experiments performed, neural network training is performed up to 10 epochs (convergence based on RMSE error < 0.15). Also, sigmoid transfer functions are used at the input and hidden layers and a linear transfer function at the output are implemented. The neural network output results are evaluated using the area under the Receiving Operating Characteristic (ROC) curves for the different experimental cases. The ROC curves are generated by incrementing the neural network output threshold over the neural network output range obtained from the test set and computing the true positive and false negative rates classification rates at each threshold. For comparison of the results from the different experiments, the area under the ROC curve is used.  4. Results and Discussion In this section, experimental results are presented for melanoma discrimination using a neural network over the 424 dermoscopy image set. In order to compare the melanoma discrimination capability for the different blotch features, the mean area under the ROC curves is computed at each alpha-cut. The first blotch extraction experiment is based on the fuzzy set A representative of blotch size. The results are summarized in Table 1 . The first column shows the alpha-cuts ranging from 0 to 1 in increments of 0.1. The second and third columns give the average area under the ROC curve for each alpha-cut for the relative and absolute color blotches respectively. The average area under the ROC curve is indicative of diagnostic accuracy. Table 1 shows that the area under the ROC curves varies little for different alpha-cuts. This is due to the fact that three of the five blotch features are determined from the largest blotch detected inside a particular lesion. It can be inferred from the membership function of this experiment shown in Fig. 4 , that if an image has a blotchy area that is over 800 pixels, the aforesaid three features will be same at each alpha-cut. For this experiment, the case of alpha-cut = 0, which includes blotches of any size, gives the best diagnostic results. For the second experiment, the second blotch size membership function, ? B (x), assigns higher membership values to larger size blotches and includes only objects that are over 400 pixels. The membership function, ? B (x), is shown in Fig. 5 . The results for this experiment given in Tables 2 and 3 report lesion discrimination results generated using the blotch features, four asymmetry features given in equation 11 , and all nine features combined. Tables 2 and 3 show the ROC area results using blotches extracted by the relative and absolute color threshold approaches, respectively. The first column of this and the following tables shows the alpha-cuts, ranging from 0 to 1 in increments of 0.1 and the second through fourth columns of this and the following tables show the average area under the ROC curve for each alpha-cut for the five, four and nine features respectively. As before, the area under the ROC curve values are highest for the case for the zero alpha-cut, which includes all blotches greater than 400 pixels. As alpha-cuts are increased, the minimum blotch size is increased, and some blotch informatioin is lost, but overall the feature values do not change much, because the bigger blotches are intact. This holds true for blotches extracted using both the relative and absolute color thresholding schemes. Maximum diagnostic accuracy of 81.0% is obtained for absolute color blotches at the alpha-cut equal to zero, which allows inclusion of the smallest blotches. Relative color blotches at alpha-cut of zero provide the next best diagnostic results with 78.4% area under the ROC curve. The results for melanoma discrimination using fuzzy sets representative of three dimensional relative color are summarized in Table 4 . The lesion discrimination results in this case are quite different at each alpha-cut. At each alpha-cut examined, different blotch masks are obtained and therefore the resulting blotch features are also different; leading to different diagnostic accuracies. Figs. 6 – 9 show the blotch masks for typical melanoma image, representative of the data set, at alpha-cuts of 0, 0.2, 0.4, and 0.6 respectively. At an alpha-cut of zero, all the blotchy areas over 800 pixels are present because each pixel exhibits at least a zero membership value. For an alpha-cut of 0.2, some of the blotch pixels have membership values less than 0.2 and are eliminated, thereby reducing the blotch size. This trend continues as the alpha-cut increases and at alpha-cuts greater than 0.6, no blotchy areas over 800 pixels are retained. Therefore, the blotch mask is “blank” and the blotch features equal zero. Tables 5 , 6 and 7 present the average melanoma discrimination results for the blotch features derived from the fuzzy set representations for the individual red, green, and blue relative color planes, respectively. The results for this experiment are generated using the same feature sets used for the size and three-dimensional relative color experiments. The secondary histogram and the membership function for the red color plane are shown in Figs. 10 and 11 , respectively. The discrimination results for the individual color plane experiment at each alpha-cut vary little because the features are very similar for the first seven alpha-cuts. This can be explained by looking at the membership function for the red color plane in Fig. 11 , which shows that majority of the pixels have a membership value greater than 0.5. The relative green and blue color planes have similar membership functions. Table 8 presents the results generated using the eccentricity measure. The feature set used for lesion discrimination was the same as that of the color study reported above. The resultant blotch masks are quite similar for the first few thresholds resulting in similar discrimination accuracies. The most significant difference in the blotch masks, and correspondingly diagnostic accuracy, is observed at a threshold of 0.8. In the final experiment, melanoma discrimination was performed using a set of eighteen features. This feature set was generated by combining the nine features from the size experiment based on the membership function ? B with the nine features from three color plane experiment. The results for this experiment are reported in Table 9 . Again, the results vary little because the features from the size experiment do not change drastically over the range of alpha-cuts. A maximum diagnostic accuracy of 81.2% is observed at an alpha-cut of 0.9.  5. Summary In summary, for dermoscopy images of melanoma and benign lesions, we obtained a diagnostic accuracy of 81.0%, at an alpha-cut of 0, by applying fuzzy logic techniques based on blotch size. All of the fuzzy color plane experiments gave a lower diagnostic accuracy than the blotch size experiments. The experiment based on the eccentricity of individual blotches also resulted in a lower diagnostic accuracy, a maximum of 78.1% at an eccentricity threshold of 0.8 using the four asymmetry features. The experiment based on combining features from the size and three color plane experiments yields the highest diagnostic accuracy of 81.2% at an alpha-cut of 0.9. This is higher than the maximum diagnostic accuracy of about 77% using the crisp case for the five blotch features, as determined in previous research [ 3 ]. The fuzzy method was not compared to the absolute color crisp method, which provided inferior results [ 3 ]. The usefulness of fuzzy logic techniques for melanoma discrimination is inconclusive, since, in the experiments performed the diagnostic accuracies were similar at each alpha-cut or eccentricity index used. However, it can be concluded that the overall melanoma diagnostic accuracy improves when an extended feature set (eighteen element feature vector obtained by combining features from the size and three color plane experiments) is used versus the case when only the five blotch features are used. For future work, additional features need to be developed in order to be able to further quantify the random and disorderly growth patterns of cancer cells for improved melanoma detection from dermoscopy skin lesion images.  Figures and Tables Fig. 1 Dermoscopy image of malignant melanoma with a blotch automatically determined. The lesion centroid is marked with a large square and the blotch centroid is marked with a circle. The length of the straight line joining the centroid of the lesion to that of the blotch is a measure of blotch eccentricity. Fig. 2 Moment normalized melanoma lesion divided into four quadrants with the center of each quadrant marked by a small square and the center of the blotch region in that quadrant marked by a larger square. The centroid of the blotchy area inside the first quadrant is marked as A while the centroid of the quadrant is marked as B. Fig. 3 Illustration of the eccentricity measure of an ellipse. The two principal foci are marked as F1 and F2 while the distance between them is denoted as P. L is the length of the major axis. Fig. 4 Membership function (?A) of the fuzzy set representative of blotch size. ?A(x) is defined as 1 for x?800 and x/800 for x<800, where x is the blotch size. Fig. 5 Membership function (?B) associated with the fuzzy set representative of blotch size. ?B(x) is defined as 1 for x?1200, x-400/800 for 400?x<1200, and 0 for x<400, where x is the blotch size. Fig. 6 Blotch mask at an alpha-cut of 0, derived based on a fuzzy set representative of three-dimensional relative color Fig. 7 Blotch mask at an alpha-cut of 0.2, derived based on a fuzzy set representative of three-dimensional relative color. Fig. 8 Blotch mask at an alpha-cut of 0.4, derived based on a fuzzy set representative of three-dimensional relative color Fig. 9 Blotch mask at an alpha-cut of 0.6, derived based on a fuzzy set representative of three-dimensional relative color. Fig. 10 Secondary histogram of the red relative color plane of a training set of dermoscopy melanoma images. Fig. 11 Membership function of the red relative color plane of a training set of dermoscopy melanoma images. Table 1 Lesion discrimination results based on applying fuzzy logic techniques to blotch size. Membership function used is ?A. Alpha-Cut Average area under the ROC Curve 5 Blotch Features - RelativeColor 5 Blotch Features - AbsoluteColor 0 0.776 0.782 0.1 0.775 0.673 0.2 0.737 0.712 0.3 0.731 0.655 0.4 0.711 0.607 0.5 0.700 0.619 0.6 0.706 0.623 0.7 0.708 0.621 0.8 0.693 0.663 0.9 0.683 0.661 1.0 0.702 0.636 Table 2 Lesion discrimination results based on applying fuzzy logic techniques to blotch size. Blotch mask is extracted using relative color thresholding, membership function used is ?B. 5 Blotch Features 4 Asymm. Features All 9 Features Alpha-Cut Avg. ROC Curve Area Avg. ROC Curve Area Avg. ROC Curve Area 0 0.774 0.732 0.784 0.1 0.700 0.680 0.759 0.2 0.710 0.685 0.749 0.3 0.689 0.705 0.759 0.4 0.654 0.696 0.743 0.5 0.666 0.698 0.747 0.6 0.653 0.704 0.723 0.7 0.669 0.706 0.738 0.8 0.661 0.699 0.746 0.9 0.681 0.719 0.726 1.0 0.638 0.708 0.747 Table 3 Lesion discrimination results based on applying fuzzy logic techniques to blotch size. Blotch mask is extracted using absolute color thresholding, membership function used is ?B. 5 Blotch Features 4 Asymm. Features All 9 Features Alpha-Cut Avg. ROC Curve Area Avg. ROC Curve Area Avg. ROC Curve Area 0 0.780 0.644 0.810 0.1 0.672 0.624 0.763 0.2 0.605 0.586 0.762 0.3 0.664 0.605 0.792 0.4 0.687 0.552 0.791 0.5 0.655 0.581 0.788 0.6 0.663 0.610 0.781 0.7 0.634 0.576 0.785 0.8 0.659 0.600 0.786 0.9 0.609 0.567 0.798 1.0 0.684 0.600 0.753 Table 4 Lesion discrimination results based on applying fuzzy logic techniques to three-dimensional relative color plane, membership function used is ?B. 5 Blotch Features 4 Asymm. Features All 9 Features Alpha- Cut Avg. ROC Curve Area Avg. ROC Curve Area Avg. ROC Curve Area 0 0.694 0.705 0.737 0.1 0.701 0.750 0.769 0.2 0.717 0.737 0.786 0.3 0.734 0.747 0.771 0.4 0.687 0.706 0.750 0.5 0.667 0.703 0.761 0.6 0.626 0.692 0.688 0.7 0.528 0.734 0.676 0.8 0.477 0.689 0.669 0.9 0.346 0.676 0.479 1.0 0.243 0.560 0.396 Table 5 Lesion discrimination results based on applying fuzzy logic techniques to the red relative color plane. 5 Blotch Features 4 Asymm. Features All 9 Features Alpha-Cut Avg. ROC Curve Area Avg. ROC Curve Area Avg. ROC Curve Area 0 0.693 0.710 0.733 0.1 0.695 0.707 0.738 0.2 0.683 0.697 0.751 0.3 0.682 0.709 0.748 0.4 0.715 0.702 0.744 0.5 0.674 0.699 0.737 0.6 0.694 0.691 0.748 0.7 0.684 0.694 0.744 0.8 0.671 0.705 0.747 0.9 0.655 0.690 0.741 1.0 0.696 0.610 0.778 Table 6 Lesion discrimination results based on applying fuzzy logic techniques to the green relative color plane. 5 Blotch Features 4 Asymm. Features All 9 Features Alpha-Cut Avg. ROC Curve Area Avg. ROC Curve Area Avg. ROC Curve Area 0 0.705 0.710 0.743 0.1 0.662 0.708 0.725 0.2 0.683 0.710 0.734 0.3 0.675 0.683 0.752 0.4 0.697 0.699 0.745 0.5 0.676 0.696 0.749 0.6 0.712 0.709 0.755 0.7 0.684 0.703 0.746 0.8 0.695 0.700 0.762 0.9 0.657 0.662 0.731 1.0 0.727 0.637 0.748 Table 7 Lesion discrimination results based on applying fuzzy logic techniques to the blue relative color plane. 5 Blotch Features 4 Asymm. Features All 9 Features Alpha-Cut Avg. ROC Curve Area Avg. ROC Curve Area Avg. ROC Curve Area 0 0.693 0.704 0.738 0.1 0.668 0.703 0.728 0.2 0.692 0.709 0.729 0.3 0.689 0.697 0.738 0.4 0.650 0.699 0.731 0.5 0.693 0.693 0.741 0.6 0.704 0.702 0.743 0.7 0.698 0.697 0.748 0.8 0.648 0.705 0.737 0.9 0.719 0.714 0.768 1.0 0.714 0.610 0.754 Table 8 Lesion discrimination results based on the eccentricity measure. Blotch mask extracted using relative color thresholding. 5 Blotch Features 4 Asymm. Features All 9 Features Alpha-Cut Avg. ROC Curve Area Avg. ROC Curve Area Avg. ROC Curve Area 0 0.667 0.700 0.739 0.2 0.684 0.698 0.741 0.4 0.672 0.689 0.740 0.6 0.731 0.715 0.770 0.8 0.653 0.781 0.751 Table 9 Lesion discrimination results for the combined feature set. Blotch mask extracted using relative color thresholding. 18 Combined Features Alpha-Cut Avg. ROC Curve Area 0 0.783 0.1 0.801 0.2 0.796 0.3 0.794 0.4 0.793 0.5 0.796 0.6 0.793 0.7 0.791 0.8 0.803 0.9 0.812 1.0 0.806 